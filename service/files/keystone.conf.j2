[DEFAULT]
debug = {{ keystone_debug }}
use_syslog = False
use_stderr = True

[database]
connection = mysql+pymysql://{{ keystone_db_username }}:{{ keystone_db_password }}@mariadb/{{ keystone_db_name }}
idle_timeout = 3600
min_pool_size = 1
max_pool_size = 30
max_retries = -1
max_overflow = 60

[cache]
enabled = True
backend = oslo_cache.memcache_pool
memcache_servers = memcached:{{ memcached_port }}
memcache_dead_retry = 60
memcache_socket_timeout = 1
memcache_pool_maxsize = 1000
memcache_pool_unused_timeout = 60

[token]
provider = keystone.token.providers.uuid.Provider
driver = keystone.token.persistence.backends.memcache_pool.Token

[memcache]
servers = memcached:{{ memcached_port }}
dead_retry = 60
socket_timeout = 2
pool_maxsize = 1000
pool_unused_timeout = 60
